!function(){define("hasMany",["ember"],function(){function a(a,b,c){a=a||Ember.Object;var d="class"!==Ember.typeOf(a);return Ember.computed(function(e,f){if("string"===Ember.typeOf(a)&&(a=Ember.get(a),d="class"!==Ember.typeOf(a)),arguments.length>1){if(f&&f.length){f.beginPropertyChanges();for(var g=0;g<f.length;g++){var h=f[g],i=a;d&&(i=a[Ember.isEmpty(h[b])?c:h[b]]),h instanceof i||(h=i.create(h),h.set("parentObj",this)),f.splice(g,1,h)}f.endPropertyChanges()}return f}})}return{hasMany:a}}),define("belongsTo",["ember"],function(){function a(a,b,c,d,e,f){a=a||Ember.Object;var g="class"!==Ember.typeOf(a),h=d instanceof Ember.Mixin;return Ember.computed(function(i,j){if("string"===Ember.typeOf(a)&&(a=Ember.get(a),g="class"!==Ember.typeOf(a)),"string"===Ember.typeOf(d)&&(d=Ember.get(d),h=d instanceof Ember.Mixin),arguments.length>1){if(j){var k=a;g&&(k=a[Ember.isEmpty(j[b])?c:j[b]]),j instanceof k||(j=h?k.createWithMixins(j,mixinMap[j[e]||f]):k.create(j),j.set("parentObj",this))}return j}})}return{belongsTo:a}}),define("hierarchy",["ember"],function(){function a(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c].classes)a[c].classes.hasOwnProperty(d)&&(b[d]={level:c});return a.hierarchyMeta=b,b}function b(b){b.hierarchyMeta=a(b)}function c(a,b,c,d){var e=a.hierarchyMeta;a[d].classes[b]=c,e[b]={level:d}}function d(a,b,c,d){var e={};return e[c[d].childrenKey]="array"===Ember.typeOf(a)?a:[a],c[d].classes[c[d].base].create(e)}function e(a,b,c,e,f){for(var g=e-1;g>=f;g--)a=d(a,b,c,g);return a}function f(a,b,c){var f;return"array"===Ember.typeOf(a)&&(f=a.hierarchyMeta),Ember.computed(function(g,h){if(arguments.length>1){if("string"===Ember.typeOf(a)&&(a=Ember.get(a),f=a.hierarchyMeta),h){for(var i=-1,j=[],k=0;k<h.length;k++){var l=h[k],m={},n="array"===Ember.typeOf(l)?l[0]:l[c],o=f[n];if("instance"!==Ember.typeOf(l)){if(o&&o.level>=b){if("array"===Ember.typeOf(l))for(var p=0;p<a[o.level].keysInArray.length;p++)p<l.length&&(m[a[o.level].keysInArray[p]]=l[p]);else m=l;if(m=a[o.level].classes[n].create(m),-1===i||i===o.level)j.push(m),i=o.level;else if(i<o.level)j.push(e(m,f,a,o.level,i));else{var q=d(j,f,a,o.level);i=o.level,j=[q,m]}}}else j.push(l)}h=i===b||-1===i?j:[e(j,f,a,i,b)]}return h}})}return{registerHierarchy:b,addToHierarchy:c,hasManyWithHierarchy:f}}),define("objectWithArrayMixin",["ember"],function(){var a=Ember.Mixin.create({init:function(){this._super(),this.set("arrayProps",this.get("arrayProps")||[]),this.addArrayObserverToProp("arrayProps"),this.set("arrayProps.propKey","arrayProps"),this.arrayPropsWasAdded(this.get("arrayProps"))},addBeforeObserverToProp:function(a){Ember.addBeforeObserver(this,a,this,"propWillChange")},removeBeforeObserverFromProp:function(a){Ember.removeBeforeObserver(this,a,this,"propWillChange")},addObserverToProp:function(a){Ember.addObserver(this,a,this,"propDidChange")},removeObserverFromProp:function(a){Ember.removeObserver(this,a,this,"propDidChange")},propWillChange:function(a,b){this.removeArrayObserverFromProp(b);var c=this.get(b);if(c&&c.objectsAt){var d=Utils.getArrayFromRange(0,c.get("length"));this[b+"WillBeDeleted"](c.objectsAt(d),d,!0)}},propDidChange:function(a,b){this.addArrayObserverToProp(b);var c=this.get(b);c&&this.propArrayNotifyChange(c,b)},propArrayNotifyChange:function(a,b){if(a.objectsAt){var c=Utils.getArrayFromRange(0,a.get("length"));this[b+"WasAdded"](a.objectsAt(c),c,!0)}},addArrayObserverToProp:function(a){var b=this.get(a);b&&b.addArrayObserver&&(b.set("propKey",a),b.addArrayObserver(this,{willChange:this.propArrayWillChange,didChange:this.propArrayDidChange}))},removeArrayObserverFromProp:function(a){var b=this.get(a);b&&b.removeArrayObserver&&b.removeArrayObserver(this,{willChange:this.propArrayWillChange,didChange:this.propArrayDidChange})},propArrayWillChange:function(a,b,c){if((a.content||a.length)&&a.get("length")>0){var d=a.get("propKey"),e=Utils.getArrayFromRange(b,b+c);this[d+"WillBeDeleted"](a.objectsAt(e),e)}},propArrayDidChange:function(a,b,c,d){if((a.content||a.length)&&a.get("length")>0){for(var e=a.get("propKey"),f=[],g=[],h=0,i=b;b+d>i;i++){var j=a.objectAt(i);this[e+"CanAdd"](j,i)?f.push(i):(g.push(j),h++)}f.length>0&&this[e+"WasAdded"](a.objectsAt(f),f),g.length>0&&a.removeObjects(g)}},propWillBeDeleted:function(){},propCanAdd:function(){return!0},propWasAdded:function(){},arrayProps:null,arrayPropsWillBeDeleted:function(a){for(var b=0;b<a.length;b++)this.removeArrayObserverFromProp(a[b]),this.removeBeforeObserverFromProp(a[b]),this.removeObserverFromProp(a[b])},arrayPropsCanAdd:function(){return!0},arrayPropsWasAdded:function(a){for(var b=0;b<a.length;b++)this.arrayPropWasAdded(a[b])},arrayPropWasAdded:function(a){var b=this.get(a);this[a+"WillBeDeleted"]||(this[a+"WillBeDeleted"]=this.propWillBeDeleted),this[a+"CanAdd"]||(this[a+"CanAdd"]=this.propCanAdd),this[a+"WasAdded"]||(this[a+"WasAdded"]=this.propWasAdded),b?this.propArrayNotifyChange(b,a):this.set(a,[]),this.addArrayObserverToProp(a),this.addBeforeObserverToProp(a),this.addObserverToProp(a)}});return{ObjectWithArrayMixin:a}}),define("delayedAddToHasManyMixin",["ember","./objectWithArrayMixin"],function(a){var b=Ember.Mixin.create(a,{init:function(){this._super(),this.set("arrayPropDelayedObjs",{})},arrayPropDelayedObjs:null,addDelayObserverToProp:function(a,b){b=b||"propWasUpdated",Ember.addObserver(this,a,this,b)},removeDelayObserverFromProp:function(a){method=method||"propWasUpdated",Ember.removeObserver(this,a,this,method)},propArrayNotifyChange:function(a,b){if(a.then)a.set("canAddObjects",!1),a.then(function(){a.set("canAddObjects",!0)});else for(var c=0;c<a.get("length");c++)this[b+"WasAdded"](a.objectAt(c),c,!0)},addToProp:function(a,b){var c=this.get("arrayPropDelayedObjs"),d=this.get(a);d.get("canAddObjects")?d.contains(b)||d.pushObject(b):(c[a]=c[a]||[],c[a].contains(b)||c[a].push(b))},hasArrayProp:function(a,b,c){var d=this.get("arrayPropDelayedObjs"),e=this.get(a);return e.get("canAddObjects")?!!e.findBy(b,c):d&&d[a]?!!d[a].findBy(b,c):!1},addToContent:function(a){var b=this.get("arrayPropDelayedObjs"),c=this.get(a);c.get("canAddObjects")&&b[a]&&(b[a].forEach(function(a){c.contains(a)||c.pushObject(a)},c),delete b[a])},arrayProps:null,arrayPropsWillBeDeleted:function(a){this._super(a),this.removeDelayObserverFromProp(a+".canAddObjects")},arrayPropWasAdded:function(a){this._super(a);var b=(this.get(a),this);this["addTo_"+a]||(this["addTo_"+a]=function(c){b.addToProp(a,c)}),this.addDelayObserverToProp(a+".canAddObjects",function(){b.addToContent(a)})}});return{DelayedAddToHasManyMixin:b}}),define("misc",["ember"],function(){function a(a,b,c,d){if(void 0===b||null===b)return null;if(a[c]===b)return a;if(a[d])for(var e=0;e<a[d].length;e++){var f=Utils.deepSearchArray(a[d][e],b,c,d);if(f)return f}return null}function b(a,b,c){c=c||h;var d=a.get("length");if(d>0){var e=i(a,b,0,d-1,c);a.insertAt(e,b)}else a.pushObject(b)}function c(a,b,c){for(var d in b)b.hasOwnProperty(d)&&Ember.isNone(a[d])&&(Ember.isEmpty(a[d])||c)&&(a[d]=b[d]);return a}function d(a,b,c){var d=[];c=c||1;for(var e=a;b>e;e+=c)d.push(e);return d}function e(a){var b=a.toString(),c=b.match(Utils.ExtractIdRegex);return c&&c[1]}function f(a,b,c){return c=c||"body",Ember.isEmpty($(a).filter(c))?a["offset"+b]+Utils.getOffset(a.offsetParent,b,c):0}function g(a,b){for(var c in b){var d=a.get(c);if("object"===Ember.typeOf(b[c])||"instance"===Ember.typeOf(b[c]))return Utils.emberDeepEqual(d,b[c]);if("array"===Ember.typeOf(b[c])){for(var e=0;e<b[c].length;e++)if(!Utils.emberDeepEqual(d.objectAt(e),b[c][e]))return!1}else if(b[c]!==d)return console.log(d+" not equal to "+b[c]+" for key : "+c),!1}return!0}var h=function(a,b){return a-b},i=function(a,b,c,d,e){var f=Math.floor((d+c)/2),g=a.objectAt(f);return c>d?c:e(b,g)>=0?i(a,b,f+1,d,e):i(a,b,c,f-1,e)};return{deepSearchArray:a,binaryInsert:b,merge:c,getArrayFromRange:d,getEmberId:e,getOffset:f,emberDeepEqual:g}}),define("main",["./hasMany","./belongsTo","./hierarchy","./delayedAddToHasManyMixin","./objectWithArrayMixin","./misc"],function(){var a=Ember.Namespace.create();window.Utils=a;for(var b=0;b<arguments.length;b++)for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a}),require(["main"])}();